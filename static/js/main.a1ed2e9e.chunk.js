(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(57)},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a,r,c,l=n(0),o=n.n(l),s=n(26),i=n.n(s),u=n(3),m=n(4),f=n(6),d=n(5),h=n(7),p=n(15),b=n(1),E=n(11),v=n(12),g=v.a.div(a||(a=Object(E.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\theight: 80px;\n"]))),j=v.a.h3(r||(r=Object(E.a)(["\n\tfont-size: 24px;\n\tcolor: #fff;\n\tmargin: 0;\n"]))),O=v.a.ul(c||(c=Object(E.a)(["\n\tdisplay: flex;\n\tmargin: 0;\n\talign-items: center;\n\tcolor: #fff;\n\tlist-style-type: none;\n\tli {\n\t\tmargin-right: 20px;\n\t\tfont-size: 18px;\n\t}\n"]))),w=function(){return o.a.createElement(g,null,o.a.createElement(j,null,o.a.createElement(p.b,{to:"/home"},"Game of Thrones DB")),o.a.createElement(O,null,o.a.createElement("li",null,o.a.createElement(p.b,{to:"/characters/"},"Characters")),o.a.createElement("li",null,o.a.createElement(p.b,{to:"/houses/"},"Houses")),o.a.createElement("li",null,o.a.createElement(p.b,{to:"/books/"},"Books"))))},x=n(8),y=n.n(x),k=n(16),N=function e(){var t=this;Object(u.a)(this,e),this.getResource=function(){var e=Object(k.a)(y.a.mark(function e(n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n,", received ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllBooks=Object(k.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/");case 2:return n=e.sent,e.abrupt("return",n.map(function(e){return t._transformBook(e)}));case 4:case"end":return e.stop()}},e)})),this.getBook=function(){var e=Object(k.a)(y.a.mark(function e(n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/".concat(n));case 2:return a=e.sent,e.abrupt("return",t._transformBook(a));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(k.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters?page=2&pageSize=10");case 2:return n=e.sent,e.abrupt("return",n.map(function(e){return t._transformCharacter(e)}));case 4:case"end":return e.stop()}},e)})),this.getCharacter=Object(k.a)(y.a.mark(function e(){var n,a,r=arguments;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:23,e.next=3,t.getResource("/characters/".concat(n));case 3:return a=e.sent,e.abrupt("return",t._transformCharacter(a));case 5:case"end":return e.stop()}},e)})),this.getAllHouses=Object(k.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses?page=2&pageSize=10");case 2:return n=e.sent,e.abrupt("return",n.map(function(e){return t._transformHouse(e)}));case 4:case"end":return e.stop()}},e)})),this.getHouse=function(){var e=Object(k.a)(y.a.mark(function e(n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/".concat(n));case 2:return a=e.sent,e.abrupt("return",t._transformHouse(a));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.isKnown=function(e){return e||"Unknown"},this._extractId=function(e){return e.url.match(/\/([0-9]*)$/)[1]},this._transformCharacter=function(e){return{id:t._extractId(e),name:t.isKnown(e.name),gender:t.isKnown(e.gender),born:t.isKnown(e.born),died:t.isKnown(e.died),culture:t.isKnown(e.culture)}},this._transformHouse=function(e){return{id:t._extractId(e),name:t.isKnown(e.name),region:t.isKnown(e.region),words:t.isKnown(e.words),titles:t.isKnown(e.titles),coatOfArms:t.isKnown(e.coatOfArms),overlord:t.isKnown(e.overlord),ansectralWeapons:t.isKnown(e.ansectralWeapons)}},this._transformBook=function(e){return{id:t._extractId(e),name:t.isKnown(e.name),numberOfPages:t.isKnown(e.numberOfPages),publisher:t.isKnown(e.publisher),released:t.isKnown(e.released),country:t.isKnown(e.country)}},this._apiBase="https://www.anapioficeandfire.com/api"},C=n(14),S=(n(45),n(47),function(){return o.a.createElement("div",{className:"loadingio-spinner-cube-qw9t558acd"},o.a.createElement("div",{className:"ldio-l3dkhenxt19"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))});var I,D=function(e){var t=e.getData,n=e.onItemSelected,a=e.renderItem,r=Object(l.useState)([]),c=Object(C.a)(r,2),s=c[0],i=c[1],u=Object(l.useState)(!1),m=Object(C.a)(u,2),f=m[0],d=m[1];if(Object(l.useEffect)(function(){var e=new AbortController;return t.then(function(e){i(e),d(!0)}),function(){return e.abort()}},[]),!f)return o.a.createElement(S,null);var h=s.map(function(e){var t=e.id,r=a(e);return o.a.createElement("li",{key:t,className:"list-group-item",onClick:function(){return n(t)}},r)});return o.a.createElement("ul",{className:"item-list list-group mb-3"},h)},A=(n(49),function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:"/React-Game-Of-Thrones-DB/img/error.jpeg",alt:"Error"}))}),K=v.a.div(I||(I=Object(E.a)(["\n\tbackground-color: #fff;\n\tpadding: 25px 25px 15px 25px;\n\th4 {\n\t\tmargin-bottom: 20px;\n\t\ttext-align: center;\n\t}\n"])));var R,B=function(e){var t=e.item,n=e.children,a=t.name;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,a),o.a.createElement("ul",{className:"list-group list-group-flush"},o.a.Children.map(n,function(e){return o.a.cloneElement(e,{item:t})})))},_=function(e){var t=e.item,n=e.field,a=e.label;return o.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},o.a.createElement("span",{className:"term"},a),o.a.createElement("span",null,t[n]))},H=function(e){var t=e.itemId,n=e.getData,a=e.children;Object(l.useEffect)(function(){E(!1),g()},[t]);var r=Object(l.useState)({}),c=Object(C.a)(r,2),s=c[0],i=c[1],u=Object(l.useState)(!1),m=Object(C.a)(u,2),f=m[0],d=m[1],h=Object(l.useState)(!1),p=Object(C.a)(h,2),b=p[0],E=p[1],v=function(){d(!0),E(!0)},g=function(){t&&n(t).then(function(e){i(e),d(!1),E(!0)}).catch(v)};if(!s&&b)return o.a.createElement(K,{className:"rounded mb-3"},o.a.createElement("h4",null,"Select an item from the list"));var j=f?o.a.createElement(A,null):null,O=b?null:o.a.createElement(S,null),w=b&&!f?o.a.createElement(B,{item:s,children:a}):null;return o.a.createElement(K,{className:"rounded mb-3"},j,O,w)},P=function(e){var t=e.left,n=e.right;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},t),o.a.createElement("div",{className:"col-md-6"},n))},F=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new N,n.state={selectedChar:20,error:!1},n.onItemSelected=function(e){n.setState({selectedChar:e})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this.state,t=e.selectedChar;if(e.error)return o.a.createElement(A,null);var n=o.a.createElement(D,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllCharacters(),renderItem:function(e){return"".concat(e.name," (").concat(e.gender,")")}}),a=o.a.createElement(H,{itemId:t,getData:this.gotService.getCharacter},o.a.createElement(_,{field:"gender",label:"Gender"}),o.a.createElement(_,{field:"born",label:"Born"}),o.a.createElement(_,{field:"died",label:"Died"}),o.a.createElement(_,{field:"culture",label:"Culture"}));return o.a.createElement(P,{left:n,right:a})}}]),t}(l.Component),G=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new N,n.state={error:!1},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return this.state.error?o.a.createElement(A,null):o.a.createElement(D,{onItemSelected:function(t){e.props.history.push(t)},getData:this.gotService.getAllBooks(),renderItem:function(e){return"".concat(e.name," (").concat(e.numberOfPages,")")}})}}]),t}(l.Component),z=Object(b.g)(G),T=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new N,n.state={selectedHouse:20,error:!1},n.onItemSelected=function(e){n.setState({selectedHouse:e})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this.state,t=e.selectedHouse;if(e.error)return o.a.createElement(A,null);var n=o.a.createElement(D,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllHouses(),renderItem:function(e){return"".concat(e.name," (").concat(e.region,")")}}),a=o.a.createElement(H,{itemId:t,getData:this.gotService.getHouse},o.a.createElement(_,{field:"region",label:"Region"}),o.a.createElement(_,{field:"coatOfArms",label:"Coat of arms"}));return o.a.createElement(P,{left:n,right:a})}}]),t}(l.Component),M=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new N,n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(H,{itemId:this.props.bookId,getData:this.gotService.getBook},o.a.createElement(_,{field:"numberOfPages",label:"Pages"}),o.a.createElement(_,{field:"publisher",label:"Publisher"}),o.a.createElement(_,{field:"country",label:"Country"}))}}]),t}(l.Component),W=v.a.div(R||(R=Object(E.a)(["\n\tbackground-color: #fff;\n\tpadding: 25px 25px 15px 25px;\n\th4 {\n\t\tmargin-bottom: 20px;\n\t\ttext-align: center;\n\t}\n"])));var J,q,U=function(e){var t=e.char,n=t.name,a=t.gender,r=t.born,c=t.died,l=t.culture;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,"Random Character: ",n),o.a.createElement("ul",{className:"list-group list-group-flush"},o.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},o.a.createElement("span",{className:"term"},"Gender "),o.a.createElement("span",null,a)),o.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},o.a.createElement("span",{className:"term"},"Born "),o.a.createElement("span",null,r)),o.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},o.a.createElement("span",{className:"term"},"Died "),o.a.createElement("span",null,c)),o.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},o.a.createElement("span",{className:"term"},"Culture "),o.a.createElement("span",null,l))))},$=function(e){var t=e.interval,n=e.getData;Object(l.useEffect)(function(){g();var e=setInterval(g,t);return function(){clearInterval(e)}},[]);var a=Object(l.useState)({}),r=Object(C.a)(a,2),c=r[0],s=r[1],i=Object(l.useState)(!1),u=Object(C.a)(i,2),m=u[0],f=u[1],d=Object(l.useState)(!1),h=Object(C.a)(d,2),p=h[0],b=h[1],E=function(e){s(e),f(!0)},v=function(e){b(!0),f(!0)},g=function(){var e=Math.floor(140*Math.random()+25);n(e).then(E).catch(v)},j=p?o.a.createElement(A,null):null,O=m?null:o.a.createElement(S,null),w=m&&!p?o.a.createElement(U,{char:c}):null;return o.a.createElement(W,{className:"rounded mb-3"},j,O,w)},L=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new N,n.state={showRandomChar:!0,error:!1},n.toggleRandomChar=function(){n.setState(function(e){return{showRandomChar:!e.showRandomChar}})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){if(this.state.error)return o.a.createElement(A,null);var e=this.state.showRandomChar?o.a.createElement($,{interval:1e4,getData:this.gotService.getCharacter}):null;return o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-8 text-center"},o.a.createElement("button",{onClick:this.toggleRandomChar,className:"btn btn-dark mb-3"},"My Random Character"),e))}}]),t}(l.Component),Q=v.a.div(J||(J=Object(E.a)(["\n\tcolor: #fff;\n"]))),V=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{className:"d-flex flex-row align-items-center my-4 pt-4"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-12 text-center"},o.a.createElement("span",{className:"display-1 d-block"},"Game of Thrones DB"),o.a.createElement("div",{className:"mb-2 lead"},"React application"),o.a.createElement("div",{className:"mb-3 lead"},"Working with",o.a.createElement("a",{href:"https://www.anapioficeandfire.com/"}," An API of Ice And Fire")))))),o.a.createElement(L,null))}}]),t}(l.Component),X=v.a.div(q||(q=Object(E.a)(["\n\tcolor: #fff;\n"]))),Y=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(X,{className:"d-flex flex-row align-items-center mt-5 pt-3"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-12 text-center"},o.a.createElement("span",{className:"display-1 d-block"},"404"),o.a.createElement("div",{className:"mb-4 lead"},"The page you are looking for not found"),o.a.createElement(p.b,{to:"/home",className:"btn btn-dark"},"Home")))))}}]),t}(l.Component),Z=(n(51),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?o.a.createElement(A,null):o.a.createElement(p.a,null,o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"container"},o.a.createElement(w,null)),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-9 text-center"},o.a.createElement(b.d,null,o.a.createElement(b.b,{exact:!0,path:"/",render:function(){return o.a.createElement(b.a,{to:"/home"})}}),o.a.createElement(b.b,{path:"/home",exact:!0,component:V}),o.a.createElement(b.b,{path:"/characters/",exact:!0,component:F}),o.a.createElement(b.b,{path:"/books/",exact:!0,component:z}),o.a.createElement(b.b,{path:"/houses/",exact:!0,component:T}),o.a.createElement(b.b,{path:"/books/:id",render:function(e){var t=e.match,n=(e.location,e.history,t.params.id);return o.a.createElement(M,{bookId:n})}}),o.a.createElement(b.b,{path:"*",exact:!0,component:Y})))))))}}]),t}(l.Component));n(53),n(55);i.a.render(o.a.createElement(Z,null),document.getElementById("root"))}},[[32,2,1]]]);
//# sourceMappingURL=main.a1ed2e9e.chunk.js.map